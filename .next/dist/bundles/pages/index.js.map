{"version":3,"sources":["webpack/bootstrap 1c98a2ee1ed35b61caaf","/Users/daryneldavidcerquerajimenez/Desktop/nextjs-demo-store-master/components/Header.js","/Users/daryneldavidcerquerajimenez/Desktop/nextjs-demo-store-master/components/Layout.js","/Users/daryneldavidcerquerajimenez/Desktop/nextjs-demo-store-master/components/ProductList.js","/Users/daryneldavidcerquerajimenez/Desktop/nextjs-demo-store-master/lib/moltin.js","/Users/daryneldavidcerquerajimenez/Desktop/nextjs-demo-store-master/pages/index.js","external \"@moltin/sdk\"","external \"babel-runtime/regenerator\"","external \"next/head\"","external \"next/link\"","external \"next/router\"","external \"nprogress\"","external \"react\"","external \"semantic-ui-react\""],"names":["Router","onRouteChangeStart","NProgress","start","onRouteChangeComplete","done","onRouteChangeError","token","marginRight","Layout","state","localStorage","getItem","cartId","replace","Math","random","toString","setItem","setState","props","children","title","paddingTop","React","Component","mapProductsToItems","products","map","id","name","image","description","meta","price","display_price","with_tax","formatted","childKey","header","fluid","href","Moltin","MoltinGateway","client_id","getProducts","Products","With","All","getProductById","Get","addToCart","productId","quantity","Cart","AddProduct","getCartItems","Items","removeFromCart","RemoveItem","checkoutCart","customer","billing","Checkout","payForOrder","orderId","email","Orders","Payment","gateway","method","payment","options","receipt_email","register","password","rest","Customers","Create","type","json","data","login","Token","customer_id","getOrders","Home","getInitialProps","included","imageId","product","relationships","main_image","main_images","find","img","link"],"mappings":"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","file":"bundles/pages/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1c98a2ee1ed35b61caaf","import Link from 'next/link'\nimport Head from 'next/head'\nimport Router from 'next/router'\nimport NProgress from 'nprogress'\nimport { Menu, Container, Image, Icon } from 'semantic-ui-react'\n\nRouter.onRouteChangeStart = url => NProgress.start()\nRouter.onRouteChangeComplete = () => NProgress.done()\nRouter.onRouteChangeError = () => NProgress.done()\n\nexport default ({ token }) => (\n  <React.Fragment>\n    <Head>\n      <link rel=\"stylesheet\" type=\"text/css\" href=\"/static/nprogress.css\" />\n    </Head>\n    <Menu inverted fixed=\"top\" size=\"huge\">\n      <Container text>\n        <Link href=\"/\" prefetch passHref>\n          <Menu.Item as=\"a\" header>\n            <Image\n              size=\"mini\"\n              src=\"/static/moltin-light-hex.svg\"\n              style={{ marginRight: '1.5em' }}\n            />\n            NextJS Store\n          </Menu.Item>\n        </Link>\n\n        {token ? (\n          <Link href=\"/myaccount\" passHref>\n            <Menu.Item>My account</Menu.Item>\n          </Link>\n        ) : (\n          [\n            <Link href=\"/register\" passHref prefetch key=\"register\">\n              <Menu.Item>Sign up</Menu.Item>\n            </Link>,\n\n            <Link href=\"/login\" passHref prefetch key=\"login\">\n              <Menu.Item>Sign in</Menu.Item>\n            </Link>\n          ]\n        )}\n\n        <Link href=\"/cart\" passHref>\n          <Menu.Item position=\"right\" name=\"cart\">\n            <Icon name=\"cart\" />\n            Cart\n          </Menu.Item>\n        </Link>\n      </Container>\n    </Menu>\n  </React.Fragment>\n)\n\n\n\n// WEBPACK FOOTER //\n// ./components/Header.js","import Head from 'next/head'\nimport { Container } from 'semantic-ui-react'\n\nimport Header from './Header'\n\nexport default class Layout extends React.Component {\n  state = {\n    token: null\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('customerToken')\n\n    const cartId = localStorage.getItem('mcart')\n\n    if (!cartId) {\n      const cartId = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'.replace(/[x]/g, () =>\n        ((Math.random() * 16) | 0).toString(16)\n      )\n      localStorage.setItem('mcart', cartId)\n    }\n\n    this.setState({\n      token,\n      cartId\n    })\n  }\n\n  render() {\n    const { children, title = '' } = this.props\n    const { token } = this.state\n\n    return (\n      <React.Fragment>\n        <Head>\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n          <meta charSet=\"utf-8\" />\n          <link\n            rel=\"stylesheet\"\n            href=\"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css\"\n          />\n          <title>{title}</title>\n        </Head>\n\n        <Header token={token} />\n\n        <Container text style={{ paddingTop: '7em' }}>\n          {children}\n        </Container>\n      </React.Fragment>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/Layout.js","import Link from 'next/link'\nimport { Card, Image } from 'semantic-ui-react'\n\nconst mapProductsToItems = products =>\n  products.map(({ id, name, image, description, meta }) => {\n    const price = meta.display_price.with_tax.formatted || null\n\n    return {\n      childKey: id,\n      image,\n      header: name,\n      meta: price,\n      fluid: true,\n      href: `/product?id=${id}`\n    }\n  })\n\nexport default ({ products }) => (\n  <Card.Group items={mapProductsToItems(products)} itemsPerRow=\"3\" stackable />\n)\n\n\n\n// WEBPACK FOOTER //\n// ./components/ProductList.js","import { gateway as MoltinGateway } from '@moltin/sdk'\n\nconst Moltin = MoltinGateway({\n  client_id:\n    process.env.MOLTIN_CLIENT_ID || 'igJNFfKzGRbvePJcPKhW4m3ECYnREOxqMzh87ZY8S5'\n})\n\nexport const getProducts = () => Moltin.Products.With('main_image').All()\n\nexport const getProductById = id => Moltin.Products.With('main_image').Get(id)\n\nexport const addToCart = (cartId, productId, quantity) =>\n  Moltin.Cart(cartId).AddProduct(productId, quantity)\n\nexport const getCartItems = id => Moltin.Cart(id).Items()\n\nexport const removeFromCart = (productId, cartId) =>\n  Moltin.Cart(cartId).RemoveItem(productId)\n\nexport const checkoutCart = (cartId, customer, billing) =>\n  Moltin.Cart(cartId).Checkout(customer, billing)\n\nexport const payForOrder = (orderId, token, email) =>\n  Moltin.Orders.Payment(orderId, {\n    gateway: 'stripe',\n    method: 'purchase',\n    payment: token,\n    options: {\n      receipt_email: email\n    }\n  })\n\nexport const register = async ({ email, password, ...rest }) => {\n  const {\n    json: {\n      data: { name, id }\n    }\n  } = await Moltin.Customers.Create({\n    email,\n    password,\n    type: 'customer',\n    ...rest\n  })\n\n  const { token } = await login({ email, password })\n\n  return {\n    id,\n    name,\n    email,\n    token\n  }\n}\n\nexport const login = async ({ email, password }) => {\n  const {\n    json: {\n      data: { customer_id: id, token }\n    }\n  } = await Moltin.Customers.Token(email, password)\n\n  return {\n    id,\n    token\n  }\n}\n\nexport const getOrders = token => Moltin.Orders.With('items').All(token)\n\n\n\n// WEBPACK FOOTER //\n// ./lib/moltin.js","import Layout from '../components/Layout'\nimport ProductList from '../components/ProductList'\n\nimport { getProducts } from '../lib/moltin'\n\nconst Home = ({ products }) => (\n  <Layout title=\"Home\">\n    <ProductList products={products} />\n  </Layout>\n)\n\nHome.getInitialProps = async () => {\n  const {\n    json: { data, included }\n  } = await getProducts()\n\n  const products = data.map(product => {\n    const imageId = product.relationships.main_image\n      ? product.relationships.main_image.data.id\n      : false\n\n    return {\n      ...product,\n      image: imageId\n        ? included.main_images.find(img => img.id === imageId).link.href\n        : '/static/moltin-light-hex.svg'\n    }\n  })\n\n  return {\n    products\n  }\n}\n\nexport default Home\n\n\n\n// WEBPACK FOOTER //\n// ./pages/index.js","module.exports = require(\"@moltin/sdk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@moltin/sdk\"\n// module id = @moltin/sdk\n// module chunks = 2 3","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = babel-runtime/regenerator\n// module chunks = 2 3","module.exports = require(\"next/head\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/head\"\n// module id = next/head\n// module chunks = 2 3","module.exports = require(\"next/link\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/link\"\n// module id = next/link\n// module chunks = 2 3","module.exports = require(\"next/router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/router\"\n// module id = next/router\n// module chunks = 2 3","module.exports = require(\"nprogress\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nprogress\"\n// module id = nprogress\n// module chunks = 2 3","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 2 3","module.exports = require(\"semantic-ui-react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"semantic-ui-react\"\n// module id = semantic-ui-react\n// module chunks = 2 3"],"sourceRoot":""}